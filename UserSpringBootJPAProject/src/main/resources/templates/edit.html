<!DOCTYPE html>
<!-- Thymeleafテンプレートエンジンを使用していることを示す -->
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>ユーザー情報</title>
<style>
    .red {
        color: red;
    }
</style>
</head>
<body>
    <h1>編集</h1>
	<!-- th:method - HTTPメソッドのPATChを使用 -->
	<!-- th:action - フォームの送信先を「ルートパス/update」に設定 -->
	<!-- th:object - Controllerから渡ってきたオブジェクトにバインド -->
    <form th:method="patch" th:action="@{/update}" th:object="${userData}">
        <input type="hidden" th:field="*{id}">
        <div>
            <label for="name">名前</label>
			<!-- th:field - userDataオブジェクトのnameプロパティにアクセスして[id, name, value]属性を出力  -->
            <input type="text" th:field="*{name}">
		<!-- th:if - nameプロパティにバリデーションエラーがあるかどうか判定 -->
		<!-- th:errors - nameプロパティに関連するバリデーションエラーを取得表示 -->
		<!-- th:errorclass - nameプロパティにバリデーションエラーが存在する場合に指定のCSS要素を設定する -->
            <div th:if="${#fields.hasErrors('name')}" th:errors="*{name}" th:errorclass="red"></div>
        </div>
        <div>
            <label for="age">年齢</label>
			<!-- th:field - userDataオブジェクトのageプロパティにアクセスして[id, name, value]属性を出力  -->
            <input type="text" th:field="*{age}">
		<!-- th:if - ageプロパティにバリデーションエラーがあるかどうか判定 -->
		<!-- th:errors - ageプロパティに関連するバリデーションエラーを取得表示 -->
		<!-- th:errorclass - ageプロパティにバリデーションエラーが存在する場合に指定のCSS要素を設定する -->
            <div th:if="${#fields.hasErrors('age')}" th:errors="*{age}" th:errorclass="red"></div>
        </div>
        <div>
            <label for="gender">性別</label>
			<!-- th:field - userDataオブジェクトのageプロパティにアクセスして[id, name, value]属性を出力  -->
            <input type="text" th:field="*{gender}">
		<!-- th:if - genderプロパティにバリデーションエラーがあるかどうか判定 -->
		<!-- th:errors - genderプロパティに関連するバリデーションエラーを取得表示 -->
		<!-- th:errorclass - genderプロパティにバリデーションエラーが存在する場合に指定のCSS要素を設定する -->
            <div th:if="${#fields.hasErrors('gender')}" th:errors="*{gender}" th:errorclass="red"></div>
        </div>
        <input type="submit" value="更新">
        <a th:href="@{/}">戻る</a>
    </form>
</body>
</html>